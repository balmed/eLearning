(function(a){if(typeof define==="function"&&define.amd){define(jQuery||["jquery"],a)}else{if(typeof exports==="object"){a(jQuery||require("jquery"))}else{a(jQuery)}}}(function(c){var b="tinycarousel",d={start:0,axis:"x",buttons:true,bullets:false,interval:false,intervalTime:3000,animation:true,animationTime:1000,infinite:true};function a(p,h){this.options=c.extend({},d,h);this._defaults=d;this._name=b;var n=this,g=p.find(".viewport:first"),w=p.find(".overview:first"),t=0,v=p.find(".next:first"),u=p.find(".prev:first"),o=p.find(".bullet"),f=0,q={},s=0,k=0,x=0,i=this.options.axis==="x",j=i?"Width":"Height",l=i?"left":"top",y=null;this.slideCurrent=0;this.slidesTotal=0;function e(){n.update();n.move(n.slideCurrent);r();return n}this.update=function(){w.find(".mirrored").remove();t=w.children();f=g[0]["offset"+j];k=t.first()["outer"+j](true);n.slidesTotal=t.length;slideCurrent=n.options.start||0;s=Math.ceil(f/k);w.append(t.slice(0,s).clone().addClass("mirrored"));w.css(j.toLowerCase(),k*(n.slidesTotal+s));return n};function r(){if(n.options.buttons){u.click(function(){n.move(--x);return false});v.click(function(){n.move(++x);return false})}c(window).resize(n.update);if(n.options.bullets){p.on("click",".bullet",function(){n.move(x=+c(this).attr("data-slide"));return false})}}this.start=function(){if(n.options.interval){clearTimeout(y);y=setTimeout(function(){n.move(++x)},n.options.intervalTime)}return n};this.stop=function(){clearTimeout(y);return n};this.move=function(z){x=z;n.slideCurrent=x%n.slidesTotal;if(x<0){n.slideCurrent=x=n.slidesTotal-1;w.css(l,-(n.slidesTotal)*k)}if(x>n.slidesTotal){n.slideCurrent=x=1;w.css(l,0)}q[l]=-x*k;w.animate(q,{queue:false,duration:n.options.animation?n.options.animationTime:0,always:function(){p.trigger("move",[t[n.slideCurrent],n.slideCurrent])}});m();n.start();return n};function m(){if(n.options.buttons&&!n.options.infinite){u.toggleClass("disable",n.slideCurrent<=0);v.toggleClass("disable",n.slideCurrent>=n.slidesTotal-s)}if(n.options.bullets){o.removeClass("active");c(o[n.slideCurrent]).addClass("active")}}return e()}c.fn[b]=function(e){return this.each(function(){if(!c.data(this,"plugin_"+b)){c.data(this,"plugin_"+b,new a(c(this),e))}})}}));